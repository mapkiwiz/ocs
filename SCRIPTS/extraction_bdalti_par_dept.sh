function extract_bdalti {
    DEPT=$1
    XMIN=$2
    XMAX=$3
    YMIN=$4
    YMAX=$5
    if [ ! -d MORPHO/$DEPT ]; then
        mkdir MORPHO/$DEPT
    fi
    SOURCE=/mnt/data/REFERENTIELS/IGN/BDALTI_50M/BD_ALTI_FRANCE.tif
    # gdal_translate -of GeoTIFF -projwin $XMIN $YMIN $XMAX $YMAX -projwin_srs EPSG:27582 \
    # -ot Int32 -a_nodata -999 $SOURCE MORPHO/$DEPT/ALTITUDE_L2E.tif
    gdalwarp -overwrite -r bilinear -te $XMIN $YMIN $XMAX $YMAX -te_srs EPSG:3035 \
    -s_srs EPSG:27582 -t_srs EPSG:3035 -dstnodata -999 \
    -of GTiff -co TILED=YES -co COMPRESS=LZW \
    $SOURCE MORPHO/$DEPT/ALTITUDE.tif
}

while read args; do
    extract_bdalti $args
done <<EOF
AIN 3907500 4031000 2505000 2618500
ALLIER 3723000 3865500 2551500 2662500
ARDECHE 3829500 3922000 2361500 2492000
CANTAL 3690000 3803000 2414000 2520000
DROME 3888500 3995000 2340000 2488500
HAUTE-LOIRE 3773500 3893000 2418500 2507000
HAUTE-SAVOIE 3991000 4096500 2510500 2599000
ISERE 3904500 4038000 2403000 2546000
LOIRE 3825500 3915500 2469000 2598000
PUY-DE-DOME 3725000 3855500 2484500 2603000
RHONE 3870000 3949000 2492000 2597500
SAVOIE 3974500 4105000 2439500 2550000
EOF